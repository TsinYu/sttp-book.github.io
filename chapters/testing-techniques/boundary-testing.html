
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Boundary testing Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-hints/plugin-hints.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-katex/katex.min.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="structural-testing.html" />
    
    
    <link rel="prev" href="specification-based-testing.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../preface/authors.html">
            
                <a href="../preface/authors.html">
            
                    
                    Authors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../preface/acknowledgments.html">
            
                <a href="../preface/acknowledgments.html">
            
                    
                    Acknowledgments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../preface/adopt.html">
            
                <a href="../preface/adopt.html">
            
                    
                    Adopt this book
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../preface/contribute.html">
            
                <a href="../preface/contribute.html">
            
                    
                    Contribute to this book
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../preface/license.html">
            
                <a href="../preface/license.html">
            
                    
                    License
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../preface/structure.html">
            
                <a href="../preface/structure.html">
            
                    
                    Structure of the book
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../getting-started/">
            
                <a href="../getting-started/">
            
                    
                    Getting started with software testing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="../getting-started/why-software-testing.html">
            
                <a href="../getting-started/why-software-testing.html">
            
                    
                    Why software testing?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="../getting-started/testing-principles.html">
            
                <a href="../getting-started/testing-principles.html">
            
                    
                    Principles of software testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="../getting-started/test-automation.html">
            
                <a href="../getting-started/test-automation.html">
            
                    
                    Software testing automation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="./">
            
                <a href="./">
            
                    
                    Testing techniques
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="specification-based-testing.html">
            
                <a href="specification-based-testing.html">
            
                    
                    Specification-based testing
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="4.1.2" data-path="boundary-testing.html">
            
                <a href="boundary-testing.html">
            
                    
                    Boundary testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="structural-testing.html">
            
                <a href="structural-testing.html">
            
                    
                    Structural-based testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="model-based-testing.html">
            
                <a href="model-based-testing.html">
            
                    
                    Model-based testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.5" data-path="design-by-contracts.html">
            
                <a href="design-by-contracts.html">
            
                    
                    Design-by-contracts and property-based testing
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../pragmatic-testing/">
            
                <a href="../pragmatic-testing/">
            
                    
                    Pragmatic software testing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1" data-path="../pragmatic-testing/testing-pyramid.html">
            
                <a href="../pragmatic-testing/testing-pyramid.html">
            
                    
                    The testing pyramid
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.2" data-path="../pragmatic-testing/mocking.html">
            
                <a href="../pragmatic-testing/mocking.html">
            
                    
                    Mock objects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.3" data-path="../pragmatic-testing/design-for-testability.html">
            
                <a href="../pragmatic-testing/design-for-testability.html">
            
                    
                    Design for testability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.4" data-path="../pragmatic-testing/tdd.html">
            
                <a href="../pragmatic-testing/tdd.html">
            
                    
                    Test-driven development
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.5" data-path="../pragmatic-testing/test-code-quality.html">
            
                <a href="../pragmatic-testing/test-code-quality.html">
            
                    
                    Test code quality and engineering
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../intelligent-testing/">
            
                <a href="../intelligent-testing/">
            
                    
                    Intelligent testing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1.1" data-path="../intelligent-testing/mutation-testing.html">
            
                <a href="../intelligent-testing/mutation-testing.html">
            
                    
                    Mutation testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.2" data-path="../intelligent-testing/fuzzing.html">
            
                <a href="../intelligent-testing/fuzzing.html">
            
                    
                    Fuzzing testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.3" >
            
                <span>
            
                    
                    Search-based software testing (soon)
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../testing-into-context/">
            
                <a href="../testing-into-context/">
            
                    
                    Testing in the context
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1.1" >
            
                <span>
            
                    
                    Web testing (soon)
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="7.1.2" >
            
                <span>
            
                    
                    Database testing (soon)
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="7.1.3" >
            
                <span>
            
                    
                    Mobile testing (soon)
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="7.1.4" >
            
                <span>
            
                    
                    Continuous experimentation (soon)
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="7.1.5" >
            
                <span>
            
                    
                    Embedded software testing (soon)
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="../non-functional-testing/">
            
                <a href="../non-functional-testing/">
            
                    
                    Non-functional testing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1.1" >
            
                <span>
            
                    
                    Security testing (soon)
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="8.1.2" >
            
                <span>
            
                    
                    Performance testing (soon)
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="8.1.3" >
            
                <span>
            
                    
                    Ethical testing (soon)
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="9.1" >
            
                <span>
            
                    
                    Appendix
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1.1" data-path="../appendix/answers.html">
            
                <a href="../appendix/answers.html">
            
                    
                    Answers to the exercises
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.1.2" data-path="../appendix/changelog.html">
            
                <a href="../appendix/changelog.html">
            
                    
                    Change log
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Boundary testing</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="boundary-testing">Boundary testing</h1>
<p>A high number of bugs happen in the <strong>boundaries</strong> of your program.
In this chapter we are going to derive tests for these boundaries.</p>
<p>The boundaries can reside between partitions or specific conditions.
Off-by-one errors, i.e., when your program outcome is &quot;off by one&quot;,
often occur because of the lack of boundary testing.</p>
<h2 id="boundaries-in-between-classespartitions">Boundaries in between classes/partitions</h2>
<p>Whenever we devised partitions/classes, these classes have &quot;close boundaries&quot;
with the other classes.</p>
<p>We can find such boundaries by finding a pair of consecutive input values <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>[</mo><msub><mi>p</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>p</mi><mn>2</mn></msub><mo>]</mo></mrow><annotation encoding="application/x-tex">[p_1,p_2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mopen">[</span><span class="mord"><span class="mord mathit">p</span><span class="msupsub"><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle cramped mtight"><span class="mord mathrm mtight">1</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span>&#x200B;</span></span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit">p</span><span class="msupsub"><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle cramped mtight"><span class="mord mathrm mtight">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span>&#x200B;</span></span></span></span><span class="mclose">]</span></span></span></span>, where <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">p_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="msupsub"><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle cramped mtight"><span class="mord mathrm mtight">1</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span>&#x200B;</span></span></span></span></span></span></span> belongs to partition A, and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">p_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="msupsub"><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle cramped mtight"><span class="mord mathrm mtight">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span>&#x200B;</span></span></span></span></span></span></span> belongs to partition B.
In other words,
the boundary itself is where our program changes from our class to the other.
As testers, we should make sure that everything works smoothly (i.e., the program
still behaves correctly) near these values.</p>
<blockquote>
<p><strong>Requirement: Calculating the amount of points of the player</strong></p>
<p>Our program has two inputs: the score of the player and the remaining life of the player.
If the player&apos;s score is below 50, then it always adds 50 points.
If the remaining life is above or equal to 3 lives and the score is 
greater than or equals to 50, the player&apos;s score is doubled.</p>
</blockquote>
<p>When devising the partitions to test this method, we come up with the following partitions:</p>
<ol>
<li>Score &lt; 50</li>
<li>Score &gt;= 50 and remaining life &lt; 3</li>
<li>Score &gt;= 50 and remaining life &gt;= 3</li>
</ol>
<p>When the score is strictly smaller than 50 it is part of the first partition.
From a score of 50 the test case will be part of partitions 2 or 3.
Now we have found a boundary between partitions 1 and 2, 3.
This boundary is between the score of 49 and 50.</p>
<p>We also find a boundary between partitions 2 and 3.
This boundary is between the remaining life.
When the remaining life is smaller than 3, it belongs to partition 2; otherwise it belongs to partition 3.</p>
<p>We can visualize these partitions with their boundaries in a diagram.
<img src="img/boundary-testing/examples/partition_boundaries.svg" alt="Partitions with their boundaries"></p>
<p>To sum up: you should devise tests for the inputs at the 
boundaries of your classes.</p>
<h2 id="analysing-conditions">Analysing conditions</h2>
<p>We briefly discussed the off-by-one errors earlier.
Errors where the system behaves incorrectly for values on and close to the boundary are very easily made.
In practice, think of how many times the bug was in the boolean condition of your <code>if</code> or <code>for</code> condition, and the fix was basically
replacing a <code>&gt;=</code> by a <code>&gt;</code>.</p>
<p>When we have a properly specific condition, e.g., <code>x &gt; 100</code>, we can analyse the boundaries of this condition.
First, we need to go over some terminology:</p>
<ul>
<li>On-point: the value that is on the boundary. This is the value we see in the condition.</li>
<li>Off-point: the value closest to the boundary that flips the conditions. So if the on-point makes the condition true, the off point makes it false and vice versa. Note: when dealing with equalities or non equalities (e.g. <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>=</mo><mo>=</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">x == 6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">x</span><span class="mrel">=</span><span class="mrel">=</span><span class="mord mathrm">6</span></span></span></span> or <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>!</mo><mo>=</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">x != 6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.69444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">x</span><span class="mclose">!</span><span class="mrel">=</span><span class="mord mathrm">6</span></span></span></span>), there are two off-points; one in each direction.</li>
<li>In-points are all the values that make the condition true.</li>
<li>Out-points are all the values that make the condition false.</li>
</ul>
<p>Note that, depending on the condition, an on-point can be either an in- or an out-point.</p>
<p><strong>Example:</strong> Suppose we have a program that adds shipping costs when the total price is below 100.</p>
<p>The condition used in the program is <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>&lt;</mo><mn>1</mn><mn>0</mn><mn>0</mn></mrow><annotation encoding="application/x-tex">x &lt; 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="base textstyle uncramped"><span class="mord mathit">x</span><span class="mrel">&lt;</span><span class="mord mathrm">1</span><span class="mord mathrm">0</span><span class="mord mathrm">0</span></span></span></span>.</p>
<ul>
<li>The on-point is <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mn>0</mn><mn>0</mn></mrow><annotation encoding="application/x-tex">100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">1</span><span class="mord mathrm">0</span><span class="mord mathrm">0</span></span></span></span>, as that is the value in the condition.</li>
<li>The on-point makes the condition false, so the off-point should be the closest number that makes the condition true.
This will be <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>9</mn><mn>9</mn></mrow><annotation encoding="application/x-tex">99</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">9</span><span class="mord mathrm">9</span></span></span></span>,  <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>9</mn><mn>9</mn><mo>&lt;</mo><mn>1</mn><mn>0</mn><mn>0</mn></mrow><annotation encoding="application/x-tex">99 &lt; 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">9</span><span class="mord mathrm">9</span><span class="mrel">&lt;</span><span class="mord mathrm">1</span><span class="mord mathrm">0</span><span class="mord mathrm">0</span></span></span></span> is true.</li>
<li>The in-points are all the values smaller than or equal to <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>9</mn><mn>9</mn></mrow><annotation encoding="application/x-tex">99</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">9</span><span class="mord mathrm">9</span></span></span></span>.</li>
<li>The out-points are all values larger than or equal to <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mn>0</mn><mn>0</mn></mrow><annotation encoding="application/x-tex">100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">1</span><span class="mord mathrm">0</span><span class="mord mathrm">0</span></span></span></span>.</li>
</ul>
<p>We show all these points in the diagram below.</p>
<p><img src="img/boundary-testing/examples/on_off_points.svg" alt="On- and off-points, in- and out-points"></p>
<p>Now, let&apos;s compare it to the next condition <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>&lt;</mo><mo>=</mo><mn>1</mn><mn>0</mn><mn>0</mn></mrow><annotation encoding="application/x-tex">x &lt;= 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="base textstyle uncramped"><span class="mord mathit">x</span><span class="mrel">&lt;</span><span class="mrel">=</span><span class="mord mathrm">1</span><span class="mord mathrm">0</span><span class="mord mathrm">0</span></span></span></span> (note how similar they are; the only difference is that, in this one, we use smaller than or equals to):</p>
<ul>
<li>The on-point is still <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mn>0</mn><mn>0</mn></mrow><annotation encoding="application/x-tex">100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">1</span><span class="mord mathrm">0</span><span class="mord mathrm">0</span></span></span></span>: this is the point in the condition</li>
<li>Now the condition is true for the on-point. So, the off-point should make the condition false; the off-point is <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mn>0</mn><mn>1</mn></mrow><annotation encoding="application/x-tex">101</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">1</span><span class="mord mathrm">0</span><span class="mord mathrm">1</span></span></span></span>.</li>
</ul>
<p><img src="img/boundary-testing/examples/on_off_points2.svg" alt="On-, off-, in- and out-points 2"></p>
<p>Note that, in the diagram, the on-point is part of the in-points, and the off-point is part of the out-points.</p>
<hr>
<p>As a tester, you devise test cases for these different points.</p>
<p>Now that we know the meaning of these different points we can start the boundary analysis in more complicated cases.
In the previous example, we looked at one condition and its boundary.
However, in most programs you will find statements that consist of multiple conditions.</p>
<p>To test the boundaries in these more complicated decisions, we use the <strong>simplified domain testing strategy</strong>.
The idea of this strategy is to test each boundary separately, i.e. independent of the other conditions.
To do so, for each boundary:</p>
<ul>
<li>We pick the on- and off-point and we create one test case each.</li>
<li>If we use multiple variables, we need values for those as well.
As we want to test each boundary independently, we choose in-points for the other variables. Note: We always choose in points, regardless
of the two boolean expressions being connected by ANDs or ORs. In practice, we want all the other conditions to return true, so that
we can evaluate the outcome of the condition under test independently.</li>
<li>It is important to vary these in-points and to not choose the on- or off-point.
This gives us the ability to partially check that the program gives the correct results for some in-points.
If we would set the in-point to the on- or off-point, we would be testing two boundaries at once.</li>
</ul>
<p>To find these values and display the test cases in a structured manner, we use a <strong>domain matrix</strong>.
In general the table looks like the following:</p>
<p><img src="img/boundary-testing/boundary_template.png" alt="Template for domain matrix"></p>
<p>In this template, we have two conditions with two parameters (see the <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>&gt;</mo><mi>a</mi><mo>&#x2227;</mo><mi>y</mi><mo>&gt;</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">x &gt; a \land y &gt; b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord mathit">x</span><span class="mrel">&gt;</span><span class="mord mathit">a</span><span class="mbin">&#x2227;</span><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="mrel">&gt;</span><span class="mord mathit">b</span></span></span></span> condition).
We list the variables, with all their conditions.
Then each condition has two rows: one for the on-point and one for the off-point.
Each variable has an additional row for the typical (or in-) values.
These are used when testing the other boundary.</p>
<p>Each column that corresponds to a test case has two colored cells.
In the colored cells you have to fill in the correct values.
Each of these pairs of values will then give a test case.
If we implement all the test cases that the domain matrix gives us, we exerise each boundary both for the on- and off-point independent of the other parameters.</p>
<p><strong>Example.</strong>
We have the following condition that we want to test: <code>x &gt;= 5 &amp;&amp; x &lt; 20 &amp;&amp; y &lt;= 89</code></p>
<p>We start by making the domain matrix, having space for each of the conditions and both parameters.</p>
<p><img src="img/boundary-testing/examples/boundary_table_empty.png" alt="Empty boundary table example"></p>
<p>Here you see that we need 6 test cases, because there are 3 conditions.
Now it is time to fill in the table.
We get the on- and off-points like in the previous example.</p>
<p><img src="img/boundary-testing/examples/boundary_table.png" alt="Boundary tables example filled in"></p>
<p>Now we have derived the six test cases that we can use to test the boundaries.</p>
<center>
<iframe width="560" height="315" src="https://www.youtube.com/embed/rPcMJg62wM4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</center>




<h2 id="boundaries-that-are-not-so-explicit">Boundaries that are not so explicit</h2>
<p>Let&apos;s revisit the example from the specification-based techniques chapter. There, we had a program
where the goal was to return the amount of bars needed in order to build some boxes of chocolates:</p>
<blockquote>
<p><strong>Chocolate bars</strong></p>
<p>A package should store a total number of kilos. 
There are small bars (1 kilo each) and big bars (5 kilos each). 
We should calculate the number of small bars to use, 
assuming we always use big bars before small bars. Return -1 if it can&apos;t be done.</p>
<p>The input of the program is thus the number of small bars, the number of big bars,
and the total amount of kilos to store.</p>
</blockquote>
<p>And these were the classes we derived after applying the category/partition method:</p>
<ul>
<li><strong>Need only small bars</strong>. A solution that only uses the provided small bars.</li>
<li><strong>Need only big bars</strong>. A solution that only uses the provided big bars.</li>
<li><strong>Need Small + big bars</strong>. A solution that has to use both small and big bars.</li>
<li><strong>Not enough bars</strong>. A case in which it&apos;s not possible, because there are not enough bars.</li>
<li><strong>Not from the specs</strong>: An exceptional case.</li>
</ul>
<p>A developer implemented the following code for the requirement, and all the tests pass.</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">calculate</span><span class="hljs-params">(<span class="hljs-keyword">int</span> small, <span class="hljs-keyword">int</span> big, <span class="hljs-keyword">int</span> total)</span> </span>{
  <span class="hljs-keyword">int</span> maxBigBoxes = total / <span class="hljs-number">5</span>;
  <span class="hljs-keyword">int</span> bigBoxesWeCanUse = maxBigBoxes &lt; big ? maxBigBoxes : big;

  total -= (bigBoxesWeCanUse * <span class="hljs-number">5</span>);

  <span class="hljs-keyword">if</span>(small &lt;= total)
      <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
  <span class="hljs-keyword">return</span> total;
}
</code></pre>
<p>However, another developer tried <code>(2,3,17)</code> as an input and the program crashed. After some debugging,
they noticed that the if statement should had been <code>if(small &lt; total)</code> instead of
<code>if(small &lt;= total)</code>. This smells like a bug that could had been caught via boundary testing!</p>
<p>Note that the test <code>(2,3,17)</code> belongs to the <strong>need small + big bars</strong> partition. In this case,
the program will make use of all the big bars (there are 3 available) and then <em>all</em> the small bars available (there are 
2 available). Note that the buggy program would work if we had 3 available small bars (having <code>(3, 3, 17)</code> as input).
This is a boundary.</p>
<p>How can we apply boundary testing here? </p>
<p><img src="img/boundary-testing/partition-boundary.png" alt="Partitions and boundaries"></p>
<p>Boundaries also happen when we are going from &quot;one partition&quot; to 
another. 
In these cases, what we should do is to devise test cases for a sequence of inputs that move
from one partition to another.</p>
<p>For example, let&apos;s focus on the bug caused by the <code>(2,3,17)</code> input.</p>
<ul>
<li><code>(1,3,17)</code> should return <em>not possible</em> (1 small bar is not enough). This test case belongs to the <strong>not enough bars</strong> partition.</li>
<li><code>(2,3,17)</code> should return 2. This test case belongs to <strong>need for small + big bars</strong> partition.</li>
</ul>
<p>There is a boundary between the <code>(1,3,17)</code> and the <code>(2,3,17)</code>. We should make sure the software still behaves correctly in these cases.</p>
<p>Let&apos;s explore another boundary. Let&apos;s focus on the <strong>only big bars</strong> partition. We should find inputs that transition from this
partition to another one:</p>
<ul>
<li><code>(10, 1, 10)</code> returns 5. This input belongs to the <strong>need small + big bars</strong> partition.</li>
<li><code>(10, 2, 10)</code> returns 0. This input belongs to the <strong>need only big bars</strong> partition.</li>
</ul>
<p>One more? Let&apos;s focus on the <strong>only small bars</strong> partition:</p>
<ul>
<li><code>(3, 2, 3)</code> returns 3. We need only small bars here, and therefore, this input belongs to the <strong>only small bars</strong> partition.</li>
<li><code>(2, 2, 3)</code> returns -1. We can&apos;t make the boxes. This input belongs to the <strong>Not enough bars</strong> partition.</li>
</ul>
<p>A partition might make boundaries with other partitions. See:</p>
<ul>
<li><code>(4, 2, 4)</code> returns 4. We need only small bars here, and therefore, this input belongs to the <strong>only small bars</strong> partition.</li>
<li><code>(4, 2, 5)</code> returns 0. We need only bigs bars here, and therefore, this input belongs to the <strong>only big bars</strong> partition.</li>
</ul>
<p>Your lesson is: explore the boundaries in between your partitions!</p>
<center>
<iframe width="560" height="315" src="https://www.youtube.com/embed/uP_SpXtHxoQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</center>




<h2 id="automating-boundary-testing-with-junit-via-parameterized-tests">Automating boundary testing with JUnit (via Parameterized Tests)</h2>
<p>We just analysed the boundaries and derived test cases using a domain matrix.
It is time to automated these tests using JUnit.</p>
<p>You might have noticed that in the domain matrix we always have a certain amount of input values and, implicitly, an expected output value.
We could just implement the boundary tests by making a separate method for each test.
However, the amount of tests can quickly become large and then this approach is not maintainable.
Also, the code in these test methods will be largely the same.
After all, we do the same thing with just different input and output values.</p>
<p>Luckily, JUnit offers a solution where we can implement the tests with just one method: Parameterized Tests.
As the naming suggests, with a parameterized test we can make a test method with parameters.
So we can create a test method and make it act based on the arguments we give the method.
To define a parameterized test you can use the <code>@ParameterizedTest</code> annotation instead of the usual <code>@Test</code> annotation.</p>
<p>Now that we have a test method that has some parameters, we have to give it the values that it should execute the tests with.
In general these values are provided by a <code>Source</code>.
Here we focus and a certain kind of <code>Source</code>, namely the <code>CsvSource</code>.
With the <code>CsvSource</code>, each test case is given as a comma separated list of input values.
We give this list in a string.
To execute multiple test with the same test method, the <code>CsvSource</code> expects list of strings, where each string represents the values for one test case.
The <code>CsvSource</code> is an annotation itself, so in an implementation it would like like the following: <code>@CsvSource({&quot;value11, value12&quot;, &quot;value21, value22&quot;, &quot;value31, value32&quot;, ...})</code></p>
<p>We are going to implement the test cases that we found in the previous example using the parameterized test.
Suppose we are testing a method that returns the result of the decision we analyzed in the example.
To automate the tests we create a test method with three parameters: <code>x</code>, <code>y</code>, <code>expectedResult</code>.
<code>x</code> and <code>y</code> are integers.
The <code>expectedResult</code> is a boolean, as the result of the method is also a boolean.</p>
<pre><code class="lang-java"><span class="hljs-meta">@ParameterizedTest</span>
<span class="hljs-meta">@CsvSource</span>({
  <span class="hljs-string">&quot;5, 24, true&quot;</span>,
  <span class="hljs-string">&quot;4, 13, false&quot;</span>,
  <span class="hljs-string">&quot;20, -75, false&quot;</span>,
  <span class="hljs-string">&quot;19, 48, true&quot;</span>,
  <span class="hljs-string">&quot;15, 89, true&quot;</span>,
  <span class="hljs-string">&quot;8, 90, false&quot;</span>
})
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">exampleTest</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">boolean</span> expectedResult)</span> </span>{
  Example example = <span class="hljs-keyword">new</span> Example();

  assertEquals(expectedResult, example.run(x, y))
}
</code></pre>
<p>The assertion in the test checks if the result of the method, with the <code>x</code> and <code>y</code> values, is the expected result.</p>
<p>From the values you can see that each of the six test cases corresponds to one of the test cases in the domain matrix.</p>
<center>
<iframe width="560" height="315" src="https://www.youtube.com/embed/fFksNXJJfiE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</center>




<h2 id="the-correct-way">The CORRECT way</h2>
<p>The <em>Pragmatic Unit Testing in Java 8 with JUnit</em>, by Langr, Hunt, and Thomas, has an interesting discussion about boundary conditions.
Authors call it the <strong>CORRECT</strong> way, as each letter represents one boundary condition you should consider:</p>
<ul>
<li><p>Conformance: </p>
<ul>
<li>Many data elements must conform to a specific format. Example: e-mail (always name@domain). If you expect an e-mail, and you do not
receive an e-mail, your software might crash.</li>
<li>What should we do? Test when your input is not in conformance with what is expected.</li>
</ul>
</li>
<li><p>Ordering:</p>
<ul>
<li>Some inputs might come in specific orders. Imagine a system that receives different products to be inserted in a basket. The order of the data might influence the output. What happens if the list is ordered? Unordered?</li>
<li>What should we do? Make sure our program works even if the data comes in an unordered manner (or return an elegant failure to user, avoiding the crash).</li>
</ul>
</li>
<li><p>Range:</p>
<ul>
<li>Inputs often should usually be within a certain range. Example: Age should always be greater than 0 and smaller than 120.</li>
<li>What should we do? Test what happens when we provide inputs that are outside of the expected range.</li>
</ul>
</li>
</ul>
<ul>
<li><p>Reference:</p>
<ul>
<li>In OOP systems, objects refer to other objects. Sometimes these relationships get very deep. Moreover, we might depend on
external dependencies. What happens if these dependencies don&apos;t behave as expected?</li>
<li>What should we do? When testing a method, consider:<ul>
<li>What it references outside its scope</li>
<li>What external dependencies it has</li>
<li>Whether it depends on the object being in a certain state</li>
<li>Any other conditions that must exist</li>
</ul>
</li>
</ul>
</li>
<li><p>Existence:</p>
<ul>
<li>Does something really exist? What if it doesn&apos;t? Imagine you query a database, and your database returns empty. Will our software
behave correctly?</li>
<li>What should we do? What happens if we something we are expecting does not really exist?</li>
</ul>
</li>
</ul>
<ul>
<li><p>Cardinality:</p>
<ul>
<li>Basically, the famous <em>off-by-one</em> errors. In simple words, our loop performed one step less (or more) than it should.</li>
<li>What should we do? Make sure we test our loops in different situations, such as when it actually performs zero iterations,
one iterations, or many. (We&apos;ll discuss more about loops in the structural-based testing chapter).</li>
</ul>
</li>
<li><p>Time</p>
<ul>
<li>Many perspectives here. First, systems rely a lot on dates and times. What happens if we receive inputs that are not
ordered in regards to date and time?</li>
<li>Timeouts: does our system handle timeouts well?</li>
<li>Concurrency: does our system handle concurrency well?</li>
</ul>
</li>
</ul>
<center>
<iframe width="560" height="315" src="https://www.youtube.com/embed/oxNEUYqEvzM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</center>





<center>
<iframe width="560" height="315" src="https://www.youtube.com/embed/PRVqsJ5fT2I" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</center>




<h2 id="exercises">Exercises</h2>
<p><strong>Exercise 1.</strong>
We have the following method.</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">sameEnds</span><span class="hljs-params">(String string)</span> </span>{
  <span class="hljs-keyword">int</span> length = string.length();
  <span class="hljs-keyword">int</span> half = length / <span class="hljs-number">2</span>;

  String left = <span class="hljs-string">&quot;&quot;</span>;
  String right = <span class="hljs-string">&quot;&quot;</span>;

  <span class="hljs-keyword">int</span> size = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; half; i++) {
    left += string.charAt(i);
    right = string.charAt(length - <span class="hljs-number">1</span> - i) + right;

    <span class="hljs-keyword">if</span> (left.equals(right))
      size = left.length();
  }

  <span class="hljs-keyword">return</span> string.substring(<span class="hljs-number">0</span>, size);
}
</code></pre>
<p>Perform boundary analysis on the condition in the for-loop: <code>i &lt; half</code>, i.e. what are the on- and off-point and the in- and out-points?
You can give the points in terms of the variables used in the method.</p>
<p><strong>Exercise 2.</strong>
Perform boundary analysis on the following decision: <code>n % 3 == 0 &amp;&amp; n % 5 == 0</code>.
What are the on- and off-points?</p>
<p><strong>Exercise 3.</strong>
A game has the following condition: <code>numberOfPoints &lt;= 570</code>.
Perform boundary analysis on the condition.
What are the on- and off-point of the condition?
Also give an example for both an in-point and an out-point.</p>
<p><strong>Exercise 4.</strong>
We extend the game with a more complicated condition: <code>(numberOfPoints &lt;= 570 &amp;&amp; numberOfLives &gt; 10) || energyLevel == 5</code>.</p>
<p>Perform boundary analysis on this condition.
What is the resulting domain matrix?</p>
<p><strong>Exercise 5.</strong>
Regarding <strong>boundary analysis of inequalities</strong> (e.g., <code>a &lt; 10</code>), which of the following statements <strong>is true</strong>?</p>
<ol>
<li>There can only be a single on-point which always makes the condition true.</li>
<li>There can be multiple on-points for a given condition which may or may not make the condition true.</li>
<li>There can only be a single off-point which may or may not make the condition false.</li>
<li>There can be multiple off-points for a given condition which always make the condition false.</li>
</ol>
<p><strong>Exercise 6.</strong>
A game has the following condition: <code>numberOfPoints &gt; 1024</code>. Perform a boundary analysis.</p>
<p><strong>Exercise 7.</strong>
Which one of the following statements about the <strong>CORRECT</strong> principles is <strong>true</strong>?</p>
<ol>
<li>We should suppose that external dependencies are already on the right state for the test (REFERENCE).</li>
<li>We should test different methods from the same class in an isolated way in order to avoid order issues (TIME).</li>
<li>Whenever we encounter a loop, we should always test whether the program works for 0, 1, and 10 iterations (CARDINALITY).</li>
<li>We should always test the behavior of our program when any expected data actually does not exist (EXISTENCE).</li>
</ol>
<h2 id="references">References</h2>
<ul>
<li><p>Jeng, B., &amp; Weyuker, E. J. (1994). A simplified domain-testing strategy. ACM Transactions on Software Engineering and Methodology (TOSEM), 3(3), 254-270.</p>
</li>
<li><p>Chapter 7 of Pragmatic Unit Testing in Java 8 with Junit. Langr, Hunt, and Thomas. Pragmatic Programmers, 2015.</p>
</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="specification-based-testing.html" class="navigation navigation-prev " aria-label="Previous page: Specification-based testing">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="structural-testing.html" class="navigation navigation-next " aria-label="Next page: Structural-based testing">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Boundary testing","level":"4.1.2","depth":2,"next":{"title":"Structural-based testing","level":"4.1.3","depth":2,"path":"chapters/testing-techniques/structural-testing.md","ref":"chapters/testing-techniques/structural-testing.md","articles":[]},"previous":{"title":"Specification-based testing","level":"4.1.1","depth":2,"path":"chapters/testing-techniques/specification-based-testing.md","ref":"chapters/testing-techniques/specification-based-testing.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["hints","katex","ga"],"pluginsConfig":{"search":{},"hints":{"danger":"fa fa-exclamation-circle","info":"fa fa-info-circle","tip":"fa fa-mortar-board","working":"fa fa-wrench"},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"katex":{},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"ga":{"configuration":"auto","token":"UA-154019382-1"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"chapters/testing-techniques/boundary-testing.md","mtime":"2020-03-22T11:59:34.591Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-03-23T17:16:01.140Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

